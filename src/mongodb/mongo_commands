# docker exec -it mongo-docker mongosh

use admin

db.auth("mongoadmin", "mongoadmin")

db.createUser(
  {
    user: "writer",
    pwd: "writer",
    roles: [
      { role: "readWrite", db: "fridge" }
    ]
  }
)

db.createUser(
  {
    user: "reader",
    pwd: "reader",
    roles: [
      { role: "read", db: "fridge" }
    ]
  }
)

use scraped_data

db.createCollection('product_details')

db.createCollection('product_reviews')

db.updateUser('reader', { roles: [
        { role: 'read', db: 'scraped_data' },
        { role: 'read', db: 'fridge' },
        { role: 'read', db: 'tv' },
      ]}
)

db.updateUser('writer', { roles: [
  { role: 'readWrite', db: 'scraped_data' },
  { role: 'readWrite', db: 'fridge' },
  { role: 'readWrite', db: 'tv' },
]}
)


