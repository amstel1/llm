# docker exec -it mongo-docker mongosh

use admin

db.auth("mongoadmin", "mongoadmin")

db.createUser(
  {
    user: "writer",
    pwd: "writer",
    roles: [
      { role: "readWrite", db: "fridge" }
    ]
  }
)

db.createUser(
  {
    user: "reader",
    pwd: "reader",
    roles: [
      { role: "read", db: "fridge" }
    ]
  }
)

use scraped_data

db.createCollection('product_details')

db.createCollection('product_reviews')

db.updateUser('reader', { roles: [
        { role: 'read', db: 'scraped_data' },
        { role: 'read', db: 'fridge' },
        { role: 'read', db: 'tv' },
        { role: 'read', db: 'mobile' },
        { role: 'read', db: 'kettle' },
        { role: 'read', db: 'vacuumcleaner' },
        { role: 'read', db: 'headphones' },
        { role: 'read', db: 'smartwatch' },
        { role: 'read', db: 'dishwasher' },
        { role: 'read', db: 'hob_cooker' },
        { role: 'read', db: 'oven_cooker' },
        { role: 'read', db: 'iron' },
        { role: 'read', db: 'conditioner' },
        { role: 'read', db: 'waterheater' },
        { role: 'read', db: 'microvawe' },
      ]}
)

db.updateUser('writer', { roles: [
  { role: 'readWrite', db: 'scraped_data' },
  { role: 'readWrite', db: 'fridge' },
  { role: 'readWrite', db: 'tv' },
  { role: 'readWrite', db: 'mobile' },
  { role: 'readWrite', db: 'kettle' },
  { role: 'readWrite', db: 'vacuumcleaner' },
  { role: 'readWrite', db: 'headphones' },
  { role: 'readWrite', db: 'smartwatch' },
  { role: 'readWrite', db: 'dishwasher' },
  { role: 'readWrite', db: 'hob_cooker' },
  { role: 'readWrite', db: 'oven_cooker' },
  { role: 'readWrite', db: 'iron' },
  { role: 'readWrite', db: 'conditioner' },
  { role: 'readWrite', db: 'waterheater' },
  { role: 'readWrite', db: 'microvawe' },
]}
)


